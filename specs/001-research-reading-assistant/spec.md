# Feature Specification: 研究型论文阅读助手

**Feature Branch**: `001-research-reading-assistant`
**Created**: 2026-02-08
**Status**: Draft
**Input**: User description: "研究型阅读助手，以研究者视角系统性阅读学术论文，遵循渐进式披露原则，参考 How to Read a Paper、The Craft of Research、The Uses of Argument 三大方法论，分五阶段（Phase 0-4）逐步深入分析论文。"

## Clarifications

### Session 2026-02-08

- Q: Skill 结构（单文件 vs 多文件 vs 混合）？ → A: 单文件 Skill，所有阶段指令写在一个 `.md` 文件中，通过对话上下文管理阶段流转
- Q: 论文输入方式（文本粘贴 vs PDF 路径 vs 两者兼容）？ → A: PDF 文件路径，利用 Claude Code 内置 Read 工具读取 PDF 内容
- Q: 分析结果是否持久化（仅对话 vs 自动保存 vs 用户选择）？ → A: 每个阶段完成后自动将分析结果写入论文所在目录的 Markdown 笔记文件
- Q: 输出笔记文件命名规则？ → A: 与 PDF 同名的 `.md` 文件（如 `2602.05386v1.pdf` → `2602.05386v1.md`）
- Q: Skill 可移植性范围（通用 vs 项目绑定 vs 可配置）？ → A: 通用可移植，不假设特定项目结构，仅依赖 PDF 路径输入
- Q: 最终笔记文件的字数和详略要求？ → A: 总字数控制在 1000 字左右，不需要详细实验数据，只保留有价值的数据，主要目的是吸收核心观点
- Q: 评价的客观性和引用要求？ → A: 必须保持客观评价，所有评价性判断必须引用论文原文作为依据，保证公正
- Q: 论文研究后的目录结构规范？ → A: 平铺结构，PDF 和笔记 `.md` 放在同一目录下，不创建子目录。目录组织由用户自行管理
- Q: 笔记文件内部章节结构？ → A: 自由格式，各阶段输出按时间顺序追加，不强制固定章节模板
- Q: 是否分析论文的引文/参考文献部分？ → A: 当前版本跳过引文部分，不分析 References；未来可扩展为引文网络分析功能
- Q: 是否明确每阶段读取的论文章节范围？ → A: 明确定义。Phase 0-1 读 Title/Abstract/Introduction/Conclusion；Phase 2 增加 Methodology/Results；Phase 3 聚焦 Discussion/核心论证段落；Phase 4 综合已读内容
- Q: Phase 4 字数限制？ → A: Phase 4 额外增加 500 字输出空间，总字数上限从约 1000 字调整为约 1500 字
- Q: 四类阅读目的（综述、批判、复现、启发）在 Skill 中的角色？ → A: 仅作为 Phase 0 视角推断的参考词汇，不影响后续阶段分析行为；不需要用户选择或系统差异化处理

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 第一遍阅读快速筛选 (Priority: P1)

作为一名研究者，我希望提供论文 PDF 路径给阅读助手后，能快速获得该论文的研究问题、主要贡献和新意评估，以便判断是否值得投入时间深入阅读。

**Why this priority**: 这是整个阅读流程的入口和最高频使用场景。研究者日常需要筛选大量论文，第一遍阅读的价值判断直接决定时间分配效率。

**Independent Test**: 提供一篇论文 PDF 路径，验证系统通过 Read 工具读取 PDF 内容后，输出包含研究问题、重要性、主要贡献、新意分析、值得继续阅读的判断（三级标记）及理由，且总结字数在 150-300 字之间。

**Acceptance Scenarios**:

1. **Given** 用户提供一篇论文 PDF 路径, **When** 系统通过 Read 工具读取 PDF 并执行 Phase 0 + Phase 1 分析, **Then** 输出包含：阅读视角说明（≤100字）、研究问题、重要性、主要贡献、新意分析、值得继续判断（✅/⚠️/❌）及 3-5 条理由
2. **Given** Phase 1 分析完成, **When** 系统输出结果, **Then** 必须以"是否继续进入第二遍阅读？"结尾，等待用户确认
3. **Given** 用户提供的文本不完整（如仅有摘要）, **When** 系统执行 Phase 1, **Then** 基于可用信息给出分析，并标注信息不足的部分

---

### User Story 2 - 结构与方法深度分析 (Priority: P2)

作为一名研究者，在确认论文值得深入后，我希望获得论文的结构化拆解，理解其研究方法、实验设计和论证路径，以便评估研究的方法论质量。

**Why this priority**: 方法论分析是研究者评估论文可信度的核心环节，是从"了解"到"理解"的关键步骤。

**Independent Test**: 在 Phase 1 完成后用户确认继续，验证系统输出包含完整的"问题→方法→证据→结论"拆解，以及方法优缺点分析。

**Acceptance Scenarios**:

1. **Given** Phase 1 已完成且用户确认继续, **When** 系统执行 Phase 2, **Then** 输出包含：结构化拆解（问题→方法→证据→结论）、研究方法合理性评估、假设与变量分析、实验设计完整性评估、关键图表作用说明
2. **Given** 用户未确认继续就请求 Phase 2 内容, **When** 系统收到请求, **Then** 提示用户需先完成 Phase 1 并确认继续

---

### User Story 3 - 论证可靠性评估 (Priority: P3)

作为一名研究者，我希望使用 Toulmin 论证模型对论文的核心论证进行系统性评估，识别论证链条中的强点和弱点，以便判断结论的可信度。

**Why this priority**: 论证分析是批判性阅读的高级能力，建立在前两遍阅读的基础之上，面向需要深度评估论文的场景。

**Independent Test**: 在 Phase 2 完成后，验证系统输出包含 Toulmin 模型的四要素分析（Claim、Data、Warrant、Rebuttal），以及结论强弱判断。

**Acceptance Scenarios**:

1. **Given** Phase 2 已完成, **When** 系统执行 Phase 3, **Then** 输出包含：每个核心主张的 Toulmin 分析（Claim/Data/Warrant/Rebuttal）、结论强弱评级、逻辑跳跃或证据不足的标注
2. **Given** 论文包含多个独立主张, **When** 系统执行 Phase 3, **Then** 分别对每个主张进行独立的论证链条分析

---

### User Story 4 - 研究者总结与知识转化 (Priority: P4)

作为一名研究者，我希望在完成全部阅读后获得一份面向我自身研究的总结，包括启发、可扩展方向和引用价值判断，以便将论文转化为可复用的研究资产。

**Why this priority**: 这是阅读流程的最终输出，将论文分析转化为对用户研究的实际价值。

**Independent Test**: 在 Phase 3 完成后，验证系统输出包含研究启发、改进/扩展方向、引用/复现/进一步研究的建议。

**Acceptance Scenarios**:

1. **Given** Phase 3 已完成, **When** 系统执行 Phase 4, **Then** 输出包含：对用户研究的启发点、可改进或可扩展的方向、是否值得引用/复现/进一步研究的明确建议

### Edge Cases

- 用户提供的论文文本过短（如仅有标题和摘要）：系统基于可用信息完成 Phase 1，明确标注哪些分析因信息不足而受限
- 用户在 Phase 1 判断为"❌ 不值得继续"后仍要求继续：系统尊重用户选择，继续执行后续阶段但保留原始判断
- 论文为非英文/非中文语言：系统以用户使用的语言输出分析，对原文关键术语保留原语言标注
- 用户跳过某个阶段直接请求后续阶段：系统提示需按顺序完成，不提前进入下一阶段
- 论文属于纯理论/数学证明类（无实验设计）：Phase 2 中"实验设计"部分替换为"证明路径"分析
- 用户在中途更换论文：系统重置阶段状态，从 Phase 0 重新开始
- PDF 文件路径无效或文件不存在：系统提示路径错误，要求用户重新提供有效路径
- PDF 页数超过 Read 工具单次限制（>20 页）：系统分批读取，自动处理分页逻辑
- 同名 `.md` 笔记文件已存在：系统在已有文件末尾追加新的阅读会话记录，以分隔线和日期标识区分

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系统必须支持五阶段渐进式阅读流程（Phase 0 至 Phase 4），每个阶段产出结构化分析结果
- **FR-002**: 系统必须在每个阶段完成后等待用户确认，才能进入下一阶段（渐进式披露）
- **FR-003**: Phase 0 必须输出阅读视角说明，字数不超过 100 字，包含推断的研究目标和阅读目的
- **FR-004**: Phase 1 必须回答四个核心问题（研究问题、重要性、主要贡献、新意），并给出三级值得继续判断（✅/⚠️/❌）及 3-5 条理由
- **FR-005**: Phase 1 总结字数必须控制在 150-300 字之间
- **FR-006**: Phase 2 必须输出"问题→方法→证据→结论"的结构化拆解，以及方法优缺点分析
- **FR-007**: Phase 3 必须使用 Toulmin 论证模型（Claim/Data/Warrant/Rebuttal）分析每个核心主张
- **FR-008**: Phase 4 必须输出研究启发、可扩展方向、引用/复现/进一步研究建议
- **FR-009**: 系统必须拒绝跳阶段请求，提示用户按顺序完成
- **FR-010**: 系统必须使用研究者语言（学术语体），而非通俗科普风格
- **FR-011**: 系统必须支持中文和英文论文输入，输出语言与用户交互语言一致
- **FR-012**: 系统必须实现为单个 Claude Code Skill 文件（`.md` 格式），放置在 `.claude/skills/` 目录下
- **FR-013**: 系统必须通过 PDF 文件路径接收论文输入，使用 Claude Code 内置 Read 工具读取 PDF 内容；对超过 20 页的 PDF 必须自动分批读取
- **FR-014**: 每个阶段完成后，系统必须自动将分析结果追加写入与 PDF 同名的 `.md` 文件（位于 PDF 同目录下）
- **FR-015**: Skill 必须设计为通用可移植，不依赖任何特定项目目录结构，仅依赖用户提供的 PDF 路径
- **FR-016**: 当同名 `.md` 笔记文件已存在时，系统必须追加新的阅读会话记录而非覆盖
- **FR-017**: 最终笔记文件总字数约 1500 字：Phase 0-3 合计约 1000 字，Phase 4（研究者总结）额外允许约 500 字用于深度总结
- **FR-018**: 分析输出必须聚焦核心观点，省略详细实验数据和冗余细节，仅保留对理解论文贡献有价值的关键数据
- **FR-019**: 所有评价性判断必须保持客观，并引用论文原文（直接引用或标注章节/页码）作为依据，确保公正性
- **FR-020**: 系统必须明确区分论文原文的客观陈述与系统自身的分析评价，不得将主观判断伪装为论文结论
- **FR-021**: 输出文件必须采用平铺目录结构，笔记 `.md` 文件与 PDF 放在同一目录下，Skill 不得创建子目录
- **FR-022**: 笔记文件内部采用自由格式，各阶段分析结果按完成顺序追加写入，不强制固定章节模板；Skill 根据论文特点自适应组织内容结构
- **FR-023**: 系统在读取 PDF 时必须跳过引文/参考文献（References）部分，不将其纳入分析范围
- **FR-024**: 每个阶段必须按以下范围读取论文章节，实现渐进式深入：

| 阶段 | 读取范围 | 目的 |
|------|----------|------|
| Phase 0-1 | Title, Abstract, Introduction, Conclusion | 快速筛选，判断是否值得深入 |
| Phase 2 | + Methodology, Results/Experiments | 理解研究方法和证据 |
| Phase 3 | + Discussion, 核心论证段落 | 评估论证可靠性 |
| Phase 4 | 综合前几阶段已读内容（不额外读取） | 总结与知识转化 |

### Out of Scope（当前版本不包含）

- **引文网络分析**: 不分析论文的 References 部分，不追踪引用关系或推荐相关论文。未来可扩展为独立的引文分析功能
- **多论文对比**: 不支持同时分析多篇论文或跨论文比较
- **PDF 解析/OCR**: 不负责 PDF 格式转换或扫描件 OCR，依赖 Claude Code 内置 Read 工具的 PDF 读取能力

### 目录与文件规范

每篇论文研究完成后，其所在目录的标准文件布局如下：

```text
<topic-directory>/
├── <paper-id>.pdf              # 原始论文 PDF（用户预先放置）
├── <paper-id>.md               # 阅读笔记（Skill 自动生成，约 1000 字）
├── <paper-id>_翻译.txt         # 翻译文件（可选，用户自行添加）
└── <其他补充材料>              # 可选：代码、数据、截图等
```

**命名规则**：
- `<paper-id>` 与 PDF 文件名一致（去掉 `.pdf` 后缀），如 `2602.05386v1`
- 笔记文件扩展名固定为 `.md`
- 翻译、补充材料等非 Skill 产出文件由用户自行命名，不做强制约束

**Skill 产出范围**：Skill 仅负责生成 `<paper-id>.md` 笔记文件，其他文件由用户自行管理

### Key Entities

- **阅读会话（Reading Session）**: 一次完整的论文阅读过程，通过对话上下文维持阶段状态，包含论文 PDF 路径、当前阶段、各阶段输出、用户研究背景
- **阶段输出（Phase Output）**: 每个阶段的结构化分析结果，包含阶段编号、输出内容、字数统计；每阶段完成后自动追加到笔记文件
- **论文（Paper）**: 被分析的学术论文 PDF 文件，通过文件路径引用，由 Read 工具读取内容
- **笔记文件（Notes File）**: 与 PDF 同名的 `.md` 文件，存储所有阶段的分析结果（总计约 1500 字，其中 Phase 4 约 500 字），聚焦核心观点，支持多次阅读会话追加
- **论证链条（Argument Chain）**: Phase 3 中的 Toulmin 模型分析单元，包含 Claim、Data、Warrant、Rebuttal、强弱评级

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 用户完成 Phase 1 后能在 30 秒内做出是否继续阅读的决策
- **SC-002**: Phase 1 总结字数 100% 落在 150-300 字范围内
- **SC-003**: 每个阶段的输出包含该阶段规定的所有必要组成部分（完整率 100%）
- **SC-004**: 系统 100% 拒绝跳阶段请求，严格执行渐进式披露
- **SC-005**: 80% 以上的用户认为 Phase 3 的 Toulmin 分析帮助他们发现了之前未注意到的论证弱点
- **SC-006**: Phase 4 输出的研究启发中，至少 1 条被用户采纳用于自身研究
- **SC-007**: 最终笔记文件总字数 90% 以上落在 1200-1800 字范围内（目标 1500 字）
- **SC-008**: 每条评价性判断 100% 附带论文原文引用或章节/页码标注

## Assumptions

- 用户具备基本的学术研究背景，能理解研究方法论术语
- 论文以 PDF 文件形式存在于本地文件系统，用户提供文件路径作为输入
- Claude Code 内置 Read 工具支持 PDF 读取（每次最多 20 页，需分页处理大文件）
- 单次阅读会话针对一篇论文，不支持同时分析多篇论文
- 阅读目的分为四类：综述、批判、复现、启发，仅作为 Phase 0 视角推断的参考词汇，不影响后续阶段的分析行为
- 系统实现为单个 Claude Code Skill 文件（`.claude/skills/` 目录下的 `.md` 文件），通过对话上下文维持阶段状态
- Skill 设计为通用可移植，不依赖特定项目结构，可直接复制到任何项目中使用
- 版本管理通过 Git 对 `.claude/skills/` 目录的版本控制实现